(()=>{var e={};e.id=285,e.ids=[285],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9119:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l}),s(5463),s(4773),s(7824);var a=s(3282),r=s(5736),o=s(3906),i=s.n(o),n=s(6880),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let l=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5463)),"/Users/dustinober/Projects/pmp_application/packages/web/src/app/checkout/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4773)),"/Users/dustinober/Projects/pmp_application/packages/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7824,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/dustinober/Projects/pmp_application/packages/web/src/app/checkout/page.tsx"],u="/checkout/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9674:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4424,23)),Promise.resolve().then(s.t.bind(s,7752,23)),Promise.resolve().then(s.t.bind(s,5275,23)),Promise.resolve().then(s.t.bind(s,9842,23)),Promise.resolve().then(s.t.bind(s,1633,23)),Promise.resolve().then(s.t.bind(s,9224,23))},5653:(e,t,s)=>{Promise.resolve().then(s.bind(s,3592))},9590:(e,t,s)=>{Promise.resolve().then(s.bind(s,6992))},1043:(e,t,s)=>{"use strict";var a=s(2854);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6992:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(3227),r=s(3677),o=s(1043),i=s(7674);function n(){let e=(0,o.useRouter)(),t=(0,o.useSearchParams)().get("tier")||"high-end",s={"high-end":29,corporate:99}[t]||29,[n,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)(""),u=async()=>{c(!0),d("");try{await (0,i.Nv)("/subscriptions/upgrade-tier",{method:"POST",body:{tierId:t,paymentId:`mock_pay_${Date.now()}`}}),e.push("/dashboard?payment=success")}catch(e){console.error("Checkout failed",e),d(e.message||"Payment initialization failed. Please try again.")}finally{c(!1)}};return a.jsx("div",{className:"max-w-lg mx-auto bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-700",children:(0,a.jsxs)("div",{className:"p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Complete your purchase"}),(0,a.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-400",children:"Plan"}),a.jsx("span",{className:"text-white font-medium capitalize",children:t.replace("-"," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xl font-bold",children:[a.jsx("span",{className:"text-gray-400",children:"Total"}),(0,a.jsxs)("span",{className:"text-primary-400",children:["$",s,".00"]})]})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg text-red-300 text-sm",children:l}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("button",{onClick:u,disabled:n,className:"w-full py-4 bg-[#FFC439] hover:bg-[#F4BB2E] text-blue-900 font-bold rounded-lg transition flex items-center justify-center gap-2",children:n?a.jsx("span",{className:"inline-block h-5 w-5 border-2 border-blue-900 border-t-transparent rounded-full animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"italic font-serif font-bold text-lg",children:"Pay"}),a.jsx("span",{className:"italic font-serif font-bold text-lg text-[#003087]",children:"Pal"})]})}),(0,a.jsxs)("p",{className:"text-xs text-center text-gray-500 mt-4",children:["By checking out, you agree to our Terms of Service.",a.jsx("br",{}),"(This is a secure mock payment for the demo environment)"]})]})]})})}function c(){return a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center px-4 py-12",children:a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"text-white",children:"Loading checkout..."}),children:a.jsx(n,{})})})}},3592:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>o});var a=s(3227),r=s(2278);function o({children:e}){return a.jsx(r.H,{children:e})}},2278:(e,t,s)=>{"use strict";s.d(t,{H:()=>n,a:()=>c});var a=s(3227),r=s(3677);let o=(0,r.createContext)(void 0),i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";function n({children:e}){let[t,s]=(0,r.useState)({user:null,token:null,isLoading:!0,isAuthenticated:!1}),n=async e=>{try{let t=await fetch(`${i}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let a=await t.json();s({user:a.data.user,token:e,isLoading:!1,isAuthenticated:!0})}else await u()}catch(e){console.error("Failed to fetch user:",e),d()}},c=async(e,t)=>{let a=await fetch(`${i}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),r=await a.json();if(!a.ok)throw Error(r.error?.message||"Login failed");let{accessToken:o,refreshToken:n,user:c}=r.data;localStorage.setItem("accessToken",o),localStorage.setItem("refreshToken",n),s({user:c,token:o,isLoading:!1,isAuthenticated:!0})},l=async(e,t,a)=>{let r=await fetch(`${i}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}),o=await r.json();if(!r.ok)throw Error(o.error?.message||"Registration failed");let{accessToken:n,refreshToken:c,user:l}=o.data;localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",c),s({user:l,token:n,isLoading:!1,isAuthenticated:!0})},d=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),s({user:null,token:null,isLoading:!1,isAuthenticated:!1})},u=async()=>{let e=localStorage.getItem("refreshToken");if(!e){d();return}try{let t=await fetch(`${i}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){let{accessToken:e,refreshToken:s}=(await t.json()).data;localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",s),await n(e)}else d()}catch(e){console.error("Token refresh failed:",e),d()}};return a.jsx(o.Provider,{value:{...t,login:c,register:l,logout:d,refreshToken:u},children:e})}function c(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7674:(e,t,s)=>{"use strict";s.d(t,{Lc:()=>n,Nv:()=>o,Sh:()=>d,kx:()=>l,sA:()=>i,tF:()=>c});let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";async function r(){return null}async function o(e,t={}){let{method:s="GET",body:o,token:i}=t,n=i??await r(),c={"Content-Type":"application/json"};n&&(c.Authorization=`Bearer ${n}`);let l=await fetch(`${a}${e}`,{method:s,headers:c,body:o?JSON.stringify(o):void 0}),d=await l.json();if(!l.ok)throw Error(d.error?.message||"Request failed");return d}let i={getDomains:()=>o("/domains"),getDomain:e=>o(`/domains/${e}`),getTasks:e=>o(`/domains/${e}/tasks`),getStudyGuide:e=>o(`/domains/tasks/${e}/study-guide`),markSectionComplete:e=>o(`/domains/progress/sections/${e}/complete`,{method:"POST"}),getProgress:()=>o("/domains/progress")},n={getFlashcards:e=>{let t=new URLSearchParams;return e?.domainId&&t.set("domainId",e.domainId),e?.taskId&&t.set("taskId",e.taskId),e?.limit&&t.set("limit",String(e.limit)),o(`/flashcards?${t}`)},getDueForReview:e=>o(`/flashcards/review${e?`?limit=${e}`:""}`),getStats:()=>o("/flashcards/stats"),startSession:e=>o("/flashcards/sessions",{method:"POST",body:e}),recordResponse:(e,t,s,a)=>o(`/flashcards/sessions/${e}/responses/${t}`,{method:"POST",body:{rating:s,timeSpentMs:a}}),completeSession:e=>o(`/flashcards/sessions/${e}/complete`,{method:"POST"}),createCustom:e=>o("/flashcards/custom",{method:"POST",body:e})},c={startSession:e=>o("/practice/sessions",{method:"POST",body:e}),submitAnswer:(e,t,s,a)=>o(`/practice/sessions/${e}/answers/${t}`,{method:"POST",body:{selectedOptionId:s,timeSpentMs:a}}),completeSession:e=>o(`/practice/sessions/${e}/complete`,{method:"POST"}),startMockExam:()=>o("/practice/mock-exams",{method:"POST"}),getFlagged:()=>o("/practice/flagged"),flagQuestion:e=>o(`/practice/questions/${e}/flag`,{method:"POST"}),unflagQuestion:e=>o(`/practice/questions/${e}/flag`,{method:"DELETE"}),getStats:()=>o("/practice/stats")},l={getDashboard:()=>o("/dashboard"),getStreak:()=>o("/dashboard/streak"),getProgress:()=>o("/dashboard/progress"),getActivity:e=>o(`/dashboard/activity${e?`?limit=${e}`:""}`),getReviews:e=>o(`/dashboard/reviews${e?`?limit=${e}`:""}`),getWeakAreas:()=>o("/dashboard/weak-areas"),getReadiness:()=>o("/dashboard/readiness"),getRecommendations:()=>o("/dashboard/recommendations")},d={getFormulas:e=>o(`/formulas${e?`?category=${e}`:""}`),getFormula:e=>o(`/formulas/${e}`),calculate:(e,t)=>o(`/formulas/${e}/calculate`,{method:"POST",body:{inputs:t}}),getVariables:()=>o("/formulas/variables")}},5463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(3189).createProxy)(String.raw`/Users/dustinober/Projects/pmp_application/packages/web/src/app/checkout/page.tsx#default`)},4773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>n});var a=s(9013),r=s(5900),o=s.n(r);s(5556);let i=(0,s(3189).createProxy)(String.raw`/Users/dustinober/Projects/pmp_application/packages/web/src/app/providers.tsx#Providers`),n={title:"PMP Study Pro",description:"Comprehensive study platform for the 2026 PMP certification exam",keywords:["PMP","Project Management","Certification","Study","Exam Prep"]};function c({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:o().className,children:a.jsx(i,{children:e})})})}},5556:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[136],()=>s(9119));module.exports=a})();