(()=>{var e={};e.id=235,e.ids=[235],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3280:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(8791),s(4773),s(7824);var a=s(3282),r=s(5736),o=s(3906),i=s.n(o),n=s(6880),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["team",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8791)),"/Users/dustinober/Projects/pmp_application/packages/web/src/app/team/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4773)),"/Users/dustinober/Projects/pmp_application/packages/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7824,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/dustinober/Projects/pmp_application/packages/web/src/app/team/dashboard/page.tsx"],m="/team/dashboard/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/team/dashboard/page",pathname:"/team/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9674:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4424,23)),Promise.resolve().then(s.t.bind(s,7752,23)),Promise.resolve().then(s.t.bind(s,5275,23)),Promise.resolve().then(s.t.bind(s,9842,23)),Promise.resolve().then(s.t.bind(s,1633,23)),Promise.resolve().then(s.t.bind(s,9224,23))},5653:(e,t,s)=>{Promise.resolve().then(s.bind(s,3592))},9846:(e,t,s)=>{Promise.resolve().then(s.bind(s,1013))},1043:(e,t,s)=>{"use strict";var a=s(2854);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},3592:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>o});var a=s(3227),r=s(2278);function o({children:e}){return a.jsx(r.H,{children:e})}},1013:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(3227),r=s(3677),o=s(1043),i=s(7674);function n(){let e=(0,o.useRouter)(),[t,s]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[m,h]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),b=async()=>{try{s(!0);let e=await (0,i.Nv)("/teams"),t=e.data?.teams||[];if(0===t.length){s(!1);return}let a=t[0];l(a);let r=await (0,i.Nv)(`/teams/${a.id}/dashboard`);r.data&&c(r.data.dashboard)}catch(e){console.error("Failed to load team data",e)}finally{s(!1)}},y=async e=>{if(e.preventDefault(),n&&m){u(!0),g(null);try{await (0,i.Nv)(`/teams/${n.id}/invitations`,{method:"POST",body:{email:m}}),g({type:"success",message:`Invitation sent to ${m}`}),h("")}catch(e){console.error("Invite failed",e),g({type:"error",message:e.message||"Failed to send invitation"})}finally{u(!1)}}},f=async(e,t)=>{if(n&&confirm(`Are you sure you want to remove ${t} from the team?`))try{await (0,i.Nv)(`/teams/${n.id}/members/${e}/preserve`,{method:"DELETE"}),b()}catch(e){console.error("Failed to remove member",e),alert("Failed to remove member")}},v=async e=>{if(n)try{await (0,i.Nv)(`/teams/${n.id}/alerts/${e}/acknowledge`,{method:"POST"}),d&&c({...d,alerts:d.alerts.filter(t=>t.id!==e)})}catch(e){console.error("Failed to acknowledge alert",e)}};return t?a.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&d?(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:d.teamName}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["Members: ",a.jsx("span",{className:"text-white font-medium",children:d.totalMembers})]}),(0,a.jsxs)("span",{children:["Active: ",a.jsx("span",{className:"text-green-400 font-medium",children:d.activeMembers})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Avg. Progress"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary-400",children:[d.averageProgress,"%"]})]}),(0,a.jsxs)("div",{className:"text-right pl-6 border-l border-gray-700",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Avg. Readiness"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[d.averageReadinessScore,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[d.alerts.length>0&&(0,a.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-900/50 rounded-xl p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[a.jsx("span",{className:"text-yellow-500 mr-2",children:"⚠️"})," Needs Attention"]}),a.jsx("div",{className:"space-y-3",children:d.alerts.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-gray-900/50 p-4 rounded-lg border border-gray-800",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs uppercase font-bold mr-3 ${"inactive"===e.type?"bg-gray-700 text-gray-300":"struggling"===e.type?"bg-red-900/50 text-red-400":"bg-yellow-900/50 text-yellow-400"}`,children:e.type.replace("_"," ")}),a.jsx("span",{className:"text-gray-300",children:e.message})]}),a.jsx("button",{onClick:()=>v(e.id),className:"text-gray-500 hover:text-white text-sm",children:"Dismiss"})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:a.jsx("h3",{className:"text-xl font-bold text-white",children:"Team Members"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-800/50 text-gray-400 text-sm uppercase tracking-wider",children:[a.jsx("th",{className:"px-6 py-4",children:"Member"}),a.jsx("th",{className:"px-6 py-4",children:"Progress"}),a.jsx("th",{className:"px-6 py-4",children:"Last Active"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-gray-800",children:[d.memberStats.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-800/30 transition",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"font-medium text-white",children:e.userName})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-24 h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-500",style:{width:`${e.progress}%`}})}),(0,a.jsxs)("span",{className:"text-gray-300 text-sm",children:[e.progress,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:e.lastActiveDate?new Date(e.lastActiveDate).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>f(e.userId,e.userName),className:"text-red-400 hover:text-red-300 text-sm font-medium transition",children:"Remove"})})]},e.memberId)),0===d.memberStats.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"No members found. Invite someone to get started!"})})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Invite Member"}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",required:!0,value:m,onChange:e=>h(e.target.value),placeholder:"colleague@company.com",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-primary-500 transition"})]}),p&&a.jsx("div",{className:`p-3 rounded text-sm ${"success"===p.type?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:p.message}),a.jsx("button",{type:"submit",disabled:x,className:"w-full py-2 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-200 transition disabled:opacity-50",children:x?"Sending...":"Send Invitation"}),(0,a.jsxs)("p",{className:"text-xs text-center text-gray-500 mt-2",children:["You have used ",d.totalMembers," of 10 licenses."]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 opacity-60",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-400 mb-4",children:"Team Goals"}),a.jsx("div",{className:"text-center py-8 text-gray-600",children:"Goals feature coming soon"})]})]})]})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Team Found"}),a.jsx("p",{className:"text-gray-400 mb-8",children:"You don't seem to have a corporate team set up yet."}),a.jsx("button",{onClick:()=>e.push("/dashboard"),className:"px-6 py-2 bg-gray-800 rounded hover:bg-gray-700 transition",children:"Back to Dashboard"})]})}},2278:(e,t,s)=>{"use strict";s.d(t,{H:()=>n,a:()=>l});var a=s(3227),r=s(3677);let o=(0,r.createContext)(void 0),i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";function n({children:e}){let[t,s]=(0,r.useState)({user:null,token:null,isLoading:!0,isAuthenticated:!1}),n=async e=>{try{let t=await fetch(`${i}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let a=await t.json();s({user:a.data.user,token:e,isLoading:!1,isAuthenticated:!0})}else await m()}catch(e){console.error("Failed to fetch user:",e),c()}},l=async(e,t)=>{let a=await fetch(`${i}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),r=await a.json();if(!a.ok)throw Error(r.error?.message||"Login failed");let{accessToken:o,refreshToken:n,user:l}=r.data;localStorage.setItem("accessToken",o),localStorage.setItem("refreshToken",n),s({user:l,token:o,isLoading:!1,isAuthenticated:!0})},d=async(e,t,a)=>{let r=await fetch(`${i}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}),o=await r.json();if(!r.ok)throw Error(o.error?.message||"Registration failed");let{accessToken:n,refreshToken:l,user:d}=o.data;localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",l),s({user:d,token:n,isLoading:!1,isAuthenticated:!0})},c=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),s({user:null,token:null,isLoading:!1,isAuthenticated:!1})},m=async()=>{let e=localStorage.getItem("refreshToken");if(!e){c();return}try{let t=await fetch(`${i}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){let{accessToken:e,refreshToken:s}=(await t.json()).data;localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",s),await n(e)}else c()}catch(e){console.error("Token refresh failed:",e),c()}};return a.jsx(o.Provider,{value:{...t,login:l,register:d,logout:c,refreshToken:m},children:e})}function l(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7674:(e,t,s)=>{"use strict";s.d(t,{Lc:()=>n,Nv:()=>o,Sh:()=>c,kx:()=>d,sA:()=>i,tF:()=>l});let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";async function r(){return null}async function o(e,t={}){let{method:s="GET",body:o,token:i}=t,n=i??await r(),l={"Content-Type":"application/json"};n&&(l.Authorization=`Bearer ${n}`);let d=await fetch(`${a}${e}`,{method:s,headers:l,body:o?JSON.stringify(o):void 0}),c=await d.json();if(!d.ok)throw Error(c.error?.message||"Request failed");return c}let i={getDomains:()=>o("/domains"),getDomain:e=>o(`/domains/${e}`),getTasks:e=>o(`/domains/${e}/tasks`),getStudyGuide:e=>o(`/domains/tasks/${e}/study-guide`),markSectionComplete:e=>o(`/domains/progress/sections/${e}/complete`,{method:"POST"}),getProgress:()=>o("/domains/progress")},n={getFlashcards:e=>{let t=new URLSearchParams;return e?.domainId&&t.set("domainId",e.domainId),e?.taskId&&t.set("taskId",e.taskId),e?.limit&&t.set("limit",String(e.limit)),o(`/flashcards?${t}`)},getDueForReview:e=>o(`/flashcards/review${e?`?limit=${e}`:""}`),getStats:()=>o("/flashcards/stats"),startSession:e=>o("/flashcards/sessions",{method:"POST",body:e}),recordResponse:(e,t,s,a)=>o(`/flashcards/sessions/${e}/responses/${t}`,{method:"POST",body:{rating:s,timeSpentMs:a}}),completeSession:e=>o(`/flashcards/sessions/${e}/complete`,{method:"POST"}),createCustom:e=>o("/flashcards/custom",{method:"POST",body:e})},l={startSession:e=>o("/practice/sessions",{method:"POST",body:e}),submitAnswer:(e,t,s,a)=>o(`/practice/sessions/${e}/answers/${t}`,{method:"POST",body:{selectedOptionId:s,timeSpentMs:a}}),completeSession:e=>o(`/practice/sessions/${e}/complete`,{method:"POST"}),startMockExam:()=>o("/practice/mock-exams",{method:"POST"}),getFlagged:()=>o("/practice/flagged"),flagQuestion:e=>o(`/practice/questions/${e}/flag`,{method:"POST"}),unflagQuestion:e=>o(`/practice/questions/${e}/flag`,{method:"DELETE"}),getStats:()=>o("/practice/stats")},d={getDashboard:()=>o("/dashboard"),getStreak:()=>o("/dashboard/streak"),getProgress:()=>o("/dashboard/progress"),getActivity:e=>o(`/dashboard/activity${e?`?limit=${e}`:""}`),getReviews:e=>o(`/dashboard/reviews${e?`?limit=${e}`:""}`),getWeakAreas:()=>o("/dashboard/weak-areas"),getReadiness:()=>o("/dashboard/readiness"),getRecommendations:()=>o("/dashboard/recommendations")},c={getFormulas:e=>o(`/formulas${e?`?category=${e}`:""}`),getFormula:e=>o(`/formulas/${e}`),calculate:(e,t)=>o(`/formulas/${e}/calculate`,{method:"POST",body:{inputs:t}}),getVariables:()=>o("/formulas/variables")}},4773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var a=s(9013),r=s(5900),o=s.n(r);s(5556);let i=(0,s(3189).createProxy)(String.raw`/Users/dustinober/Projects/pmp_application/packages/web/src/app/providers.tsx#Providers`),n={title:"PMP Study Pro",description:"Comprehensive study platform for the 2026 PMP certification exam",keywords:["PMP","Project Management","Certification","Study","Exam Prep"]};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:o().className,children:a.jsx(i,{children:e})})})}},8791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(3189).createProxy)(String.raw`/Users/dustinober/Projects/pmp_application/packages/web/src/app/team/dashboard/page.tsx#default`)},5556:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[136],()=>s(3280));module.exports=a})();